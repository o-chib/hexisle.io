(()=>{"use strict";var e={860:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clientConnection=void 0;const o=n(98);t.clientConnection=function(e){let t=[];e.on("connection",(function(n){o.GameCommunication(e,n,t),n.on("disconnect",(function(){!function(e,t){let n=e.filter((e=>e.socketId==t.id));n&&n[0]&&(t.broadcast.emit("remove player",n[0].socketId),e.splice(e.indexOf(n[0]),1)),t.removeAllListeners()}(t,n)}))})),setInterval((()=>{var e=new Date;console.log(t.length+" logged in @ "+e.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}))}),5e3)}},98:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameCommunication=void 0,t.GameCommunication=function(e,t,n){let o=[];t.on("player update",(function(e){let t=o.filter((t=>t.socketId==e.socketId));if(t&&t[0]){let n=t[0];n.x=e.x,n.y=e.y,n.angle=e.angle,n.vx=e.vx,n.vy=e.vy}else o.push(e)})),t.on("ready",(()=>{let e=function(e){return(new Date).toLocaleString("en-US",{hour12:!0,timeZone:"America/Los_Angeles"}),{socketId:e.id,loginTime:(new Date).getTime(),x:200+600*Math.random(),y:100+200*Math.random(),angle:180*Math.random(),color:"0x"+Math.floor(16777215*Math.random()).toString(16),vx:1-2*Math.random(),vy:1-2*Math.random()}}(t);t.emit("first hi",e,n),t.broadcast.emit("add opponent",e),n.push(e)})),setInterval((()=>{e.emit("update all",o),o.forEach((e=>{let t=n.filter((t=>t.socketId==e.socketId));if(t&&t[0]){let n=t[0];n.x=e.x,n.y=e.y,n.angle=e.angle,n.vx=e.vx,n.vy=e.vy}})),o.length=0}),100/30)}},483:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(n(622)),i=o(n(605)),a=o(n(127)),l=n(860),c=a.default(),s=process.env.PORT||8e3,u=(process.env.IP,i.default.createServer(c)),d=n(395)(u);c.use(a.default.static("public")),c.get("/",((e,t)=>{t.sendFile(r.default.join("/","public/index.html"))})),u.listen(s,(()=>{console.log(`[server]: Server is running at http://${process.env.IP}:${s}`)})),l.clientConnection(d)},127:e=>{e.exports=require("express")},605:e=>{e.exports=require("http")},622:e=>{e.exports=require("path")},395:e=>{e.exports=require("socket.io")}},t={};!function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}(483)})();